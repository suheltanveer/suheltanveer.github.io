!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){e.exports=n.p+"images/cb88c1d4d050e9b52155b5f7c9b89c45.png"},function(e,t,n){e.exports=n.p+"images/ccbf4005b49b4dcef5431cc357207b1e.png"},function(e,t,n){e.exports=n.p+"images/c97857b37306783a0b64a48e5be38238.png"},function(e){e.exports=JSON.parse('{"products":[{"id":1,"name":"Earphones","price":12690,"imageUrl":"https://via.placeholder.com/150","desc":"Silver"},{"id":2,"tagline":"200 Cash back","name":"Test 6X","price":14000,"imageUrl":"https://via.placeholder.com/150","desc":"32GB Gold \\n\\n Extended Warranty","planLink":"http://pointstonothing.com/linktoplan","gift":{"name":"Glory Selfie Stick","desc":"Silver Moon","price":175}},{"id":3,"name":"Test 6X","price":18000,"imageUrl":"https://via.placeholder.com/150","desc":"64GB Gold \\n\\n Extended Warranty","planLink":"http://pointstonothing.com/linktoplan","gift":{"name":"Glory Selfie Stick","desc":"Silver Moon","price":175}},{"id":4,"tagline":"100 Cash back","name":"Earphones","price":11690,"imageUrl":"https://via.placeholder.com/150","desc":"White"},{"id":5,"name":"Earphones","price":11690,"imageUrl":"https://via.placeholder.com/150","desc":"Orange"},{"id":6,"name":"Test 5X","price":10000,"imageUrl":"https://via.placeholder.com/150","desc":"32GB Gold"}],"pincode":{"560066":{"deliveryPrice":50,"cashOnDelivery":false,"estimatedDays":{"min":2,"max":5}},"560067":{"deliveryPrice":0,"cashOnDelivery":true,"estimatedDays":{"min":3,"max":5}},"560068":{"deliveryPrice":0,"cashOnDelivery":false,"estimatedDays":{"min":5,"max":5}}},"discount":{"minTotal":5000,"discountPercentage":10}}')},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(4),n(5);var a=n(3);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.tempProducts=this.data.products}var t,n,a;return t=e,(n=[{key:"saveProducts",value:function(){this.data.products.forEach(function(e){e.selectedQuantity=0}),this.tempProducts=this.data.products,localStorage.setItem("data",JSON.stringify(Object.assign(this.data,this.tempProducts)))}},{key:"getProducts",value:function(){return this.data.products}},{key:"getTempProducts",value:function(){return this.tempProducts}},{key:"removeProduct",value:function(e){this.tempProducts=this.tempProducts.filter(function(t){return t.id!=e})}},{key:"getPincodes",value:function(){return this.data.pincode}},{key:"getDiscount",value:function(){return this.data.discount}},{key:"getPincode",value:function(){return JSON.parse(localStorage.getItem("pincode"))}},{key:"getProductPrice",value:function(e){var t,n=this.getProducts();return n.find(function(a,i){a.id!=e||(t=n[i].price)}),t}},{key:"updateStore",value:function(e,t){var n=this.getTempProducts();n.find(function(a,i){if(a.id==e)return n[i].selectedQuantity=t,!0}),this.tempProducts=n,localStorage.setItem("data",JSON.stringify(Object.assign(this.data,n)))}},{key:"deletePincode",value:function(){localStorage.setItem("pincode",JSON.stringify(""))}},{key:"updatePincode",value:function(e){localStorage.setItem("pincode",JSON.stringify(e))}}])&&i(t.prototype,n),a&&i(t,a),e}(),r=n(0),l=n.n(r),s=n(1),o=n.n(s),d=n(2),u=n.n(d);function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"init",value:function(){var e=document.querySelectorAll("a[href='#']");Array.from(e).forEach(function(e){e.addEventListener("click",function(e){console.log("%cAnchor links disabled","color: purple"),e.preventDefault()})})}},{key:"displayProducts",value:function(e,t){var n=document.querySelector("#products-list");switch(n.innerHTML="",t){case"mobile":console.log("<<< mobile device >>>"),e.forEach(function(e){return function(e){var t=document.getElementById("products-list"),n=document.createElement("li");n.innerHTML='\n          <ul class=\'row\'>\n              <li class="image"><div></div></li>\n              <li class="desc">\n              '.concat(e.tagline?'<span class="offer">'.concat(e.tagline,"</span>"):"",'\n              <span class="name">').concat(e.name,'</span>\n              <span class="type"><pre>').concat(e.desc,'</pre></span>\n              <div class="price-quantity">\n                  <div class="price">').concat(e.price,' $</div>\n                  <div class="quantity"></div>\n              </div>\n              </li>\n          </ul>\n          ').concat(e.gift?'\n          <div class="toggle-gift '.concat(0===e.selectedQuantity?"hide":"show",'">\n          <div class="separator"><span class="icon icon-plus"></span></div>\n          <ul class=\'row child-row\'>\n              <li class="image gift-image"><div></div></li>\n              <li class="desc">\n              <span class="offer">Gift</span>\n              <span class="name">').concat(e.gift.name,'</span>\n              <span class="type"><pre>').concat(e.gift.desc,'</pre></span>\n              <div class="price-quantity">\n                  <div class="price">').concat(e.gift.price," $</div>\n              </div>\n              </li>\n          </ul><div>"):"");var a=new Image;if("Earphones"===e.name?a.src=l.a:e.name.includes("Test")&&(a.src=o.a),n.querySelector(".image div").appendChild(a),e.gift){var i=new Image;i.src=u.a,n.querySelector(".gift-image div").appendChild(i)}var c=document.createElement("a");c.classList.add("minus"),c.innerHTML='<span class="icon icon-minus '.concat(e.selectedQuantity>0?"icon-minus-active":"",'"></span>');var r=document.createElement("a");r.innerHTML='<span class="icon icon-plus"></span>',r.classList.add("plus");var s=document.createElement("input");s.type="text",s.setAttribute("value",e.selectedQuantity),s.setAttribute("disabled","disabled"),s.dataset.productId=e.id;var d=n.querySelector(".quantity");d.appendChild(c),d.appendChild(s),d.appendChild(r),t.appendChild(n)}(e)});break;case"tablet":console.log("<<< tablet/desktop device >>>");n.innerHTML='\n    <li>\n    <ul class="row-header">\n        <li class="cell-product">Product</li>\n        <li class="cell-price">Price</li>\n        <li class="cell-quantity">Quantity</li>\n        <li class="cell-subtotal">Subtotal</li>\n        <li class="cell-action"></li>\n    </ul>\n    </li>',e.forEach(function(e){return function(e){var t=document.getElementById("products-list"),n=document.createElement("li");n.innerHTML='\n          <ul class=\'row\'>\n              <li class="cell-product">\n                <div class="image">\n                    <div></div>\n                </div>\n                <div class="desc">\n                '.concat(e.tagline?'<span class="offer">'.concat(e.tagline,"</span>"):"",'\n                  <span class="name">').concat(e.name,'</span>\n                  <span class="type"><pre>').concat(e.desc,'</pre></span>\n                </div>\n              </li>\n              <li class="cell-price">\n                <div class="price">').concat(e.price,' $</div>\n              </li>\n              <li class="cell-quantity quantity"></li>\n              <li class="cell-subtotal">').concat(e.price*e.selectedQuantity,' $</li>\n              <li class="cell-action">\n                <a class="delete" data-product-id="').concat(e.id,'"><span class="icon icon-delete"></span></a>\n              </li>\n          </ul>\n          ').concat(e.gift?'\n          <div class="toggle-gift '.concat(0===e.selectedQuantity?"hide":"show",'">\n          \n          <ul class=\'row child-row\'>\n              <li class="cell-product">\n                <div class="image gift-image"><div></div></div>\n                <div class="desc">\n                    <span class="offer">Gift</span>\n                    <span class="name">').concat(e.gift.name,'</span>\n                    <span class="type"><pre>').concat(e.gift.desc,'</pre></span>\n                </div>\n              </li>\n              <li class="cell-price price">').concat(e.gift.price,' $</li>\n              <li class="cell-quantity"></li>\n              <li class="cell-subtotal"></li>\n              <li class="cell-action"></li>\n          </ul><div>'):"");var a=new Image;if("Earphones"===e.name?a.src=l.a:e.name.includes("Test")&&(a.src=o.a),n.querySelector(".image div").appendChild(a),e.gift){var i=new Image;i.src=u.a,n.querySelector(".gift-image div").appendChild(i)}var c=document.createElement("a");c.classList.add("minus"),c.innerHTML='<span class="icon icon-minus '.concat(e.selectedQuantity>0?"icon-minus-active":"",'"></span>');var r=document.createElement("a");r.innerHTML='<span class="icon icon-plus"></span>',r.classList.add("plus");var s=document.createElement("input");s.type="text",s.setAttribute("value",e.selectedQuantity),s.setAttribute("disabled","disabled"),s.dataset.productId=e.id;var d=n.querySelector(".quantity");d.appendChild(c),d.appendChild(s),d.appendChild(r),t.appendChild(n)}(e)})}}},{key:"updateDisplay",value:function(e,t,n){var a;if(a=n?e.parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling:e.parentNode.parentNode.parentNode.nextElementSibling,t)return a&&(a.classList.remove("hide"),a.classList.add("show")),void e.classList.add("icon-minus-active");a&&(a.classList.remove("show"),a.classList.add("hide")),e.classList.remove("icon-minus-active")}},{key:"updateCartSubtotal",value:function(e,t,n){e.textContent="".concat(parseInt(t)*parseInt(n)," $")}},{key:"displayPincode",value:function(e){document.querySelector(".pincode-matcher > input").value=e}},{key:"displayDeliveryOptions",value:function(e,t){if(Object.keys(e).includes(t)){var n=e[t],a=n.deliveryPrice,i=n.cashOnDelivery,c=n.estimatedDays,r=c.min,l=c.max,s=document.querySelector(".delivery-options");0===a&&s.appendChild(m("Free \n Delivery")),i&&s.appendChild(m("Cash on \n Delivery")),s.appendChild(m("Estimated delivery \n time is ".concat(r===l?"".concat(r):"".concat(r," - ").concat(l)," days")))}}},{key:"removeDeliveryOptions",value:function(){document.querySelector(".delivery-options").innerHTML=""}},{key:"updateOrderSummary",value:function(e,t,n,a){var i=e.reduce(function(e,t){return e+t.selectedQuantity},0);document.querySelector(".order-items").textContent=i;var c=e.reduce(function(e,t){return e+t.price*t.selectedQuantity},0);document.querySelector(".order-subtotal").textContent=c;var r=t.minTotal,l=t.discountPercentage,s=0;c>=r&&(s=c*(l/100)),document.querySelector(".order-discount").textContent=s;var o=0,d=document.querySelector(".order-shipping"),u=a&&Object.keys(n).includes(a)&&i>0;u&&(o=n[a].deliveryPrice);d.textContent=0!==o?"".concat(o," $"):"Free";var p=c-s+o;document.querySelector(".order-total").textContent=p,this.checkoutToggle(u)}},{key:"checkoutToggle",value:function(e){var t=document.querySelector(".checkout");e?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")}}],(n=null)&&p(t.prototype,n),a&&p(t,a),e}();function m(e){var t=document.createElement("div");return t.innerHTML=e,t}var f,y,g=window.matchMedia("(max-width: 767px)");function h(e){e.matches?(y=!0,v.displayProducts(f.getProducts(),"mobile")):(y=!1,v.displayProducts(f.getProducts(),"tablet"))}function b(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?v.updateOrderSummary(f.getProducts(),f.getDiscount(),f.getPincodes(),f.getPincode()):v.updateOrderSummary(f.getTempProducts(),f.getDiscount(),f.getPincodes(),f.getPincode())}document.addEventListener("DOMContentLoaded",function(){v.init(),null==JSON.parse(localStorage.getItem("data"))?(f=new c(a)).saveProducts():f=new c(JSON.parse(localStorage.getItem("data"))),v.displayPincode(f.getPincode());var e=document.querySelector(".pincode-matcher input");e.value&&v.displayDeliveryOptions(f.getPincodes(),e.value),b(!0),h(g),g.addListener(h)}),document.querySelector("#products-list").addEventListener("click",function(e){var t,n=e.target.parentElement,a=n.classList.contains("minus"),i=n.classList.contains("plus");if(n.classList.contains("delete")){var c=n.dataset.productId;f.removeProduct(c),n.parentNode.parentNode.parentNode.remove(),b()}if(i){var r=(t=n.previousElementSibling).dataset.productId;t.value=parseInt(t.value)+1,y||v.updateCartSubtotal(t.parentNode.nextElementSibling,f.getProductPrice(r),t.value),1==t.value&&v.updateDisplay(t.previousElementSibling.querySelector(".icon-minus"),!0,y),f.updateStore(r,parseInt(t.value)),b()}else if(a&&(t=n.nextElementSibling,0!==parseInt(t.value))){var l=t.dataset.productId;t.value=parseInt(t.value)-1,y||v.updateCartSubtotal(t.parentNode.nextElementSibling,f.getProductPrice(l),t.value),0==t.value&&v.updateDisplay(t.previousElementSibling.querySelector(".icon-minus"),!1,y),f.updateStore(l,parseInt(t.value)),b()}}),document.querySelector(".pincode-matcher > a").addEventListener("click",function(e){var t=e.target.previousElementSibling;t.value="",t.focus(),document.querySelector(".delivery-options").innerHTML="",f.deletePincode(),b()}),document.querySelector(".pincode-matcher > input").addEventListener("input",function(e){if(isNaN(e.target.value))return console.log("%cPincode must be an number","color: red"),void(e.target.value="");6===e.target.value.length?(f.updatePincode(e.target.value),v.displayDeliveryOptions(f.getPincodes(),e.target.value)):(f.deletePincode(),v.removeDeliveryOptions());b()})}]);
//# sourceMappingURL=app.bundle.js.map